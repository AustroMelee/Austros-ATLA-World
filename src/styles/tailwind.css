@import "tailwindcss";

:root, :host {
    /* HIGH-CONTRAST SLATE PALETTE */
    --color-slate-50: oklch(98% 0.005 250);      /* Brighter, near-white text */
    --color-slate-100: oklch(96% 0.008 250);     /* Slightly less bright text */
    --color-slate-200: oklch(90% 0.015 250);     /* Secondary text / muted icons */
    --color-slate-300: oklch(80% 0.02 250);      /* Dimmer text */
    --color-slate-400: oklch(65% 0.03 250);      /* Muted UI elements, placeholder text */
    --color-slate-700: oklch(25% 0.02 255);      /* Borders and dividers */
    --color-slate-800: oklch(18% 0.015 258);     /* Elevated surfaces (cards, nav) */
    --color-slate-900: oklch(12% 0.01 250);      /* Main page background */
    --color-slate-950: oklch(8% 0.005 250);      /* Deepest background (e.g., ::after mask) */
}

@keyframes flowing-border-rotate {
  100% {
    transform: rotate(1turn);
  }
}

.itemcard-animated-border {
  position: relative;
  border-radius: 24px; /* Matches the inner card's `rounded-3xl` from Tailwind */
  overflow: hidden;
  z-index: 1; /* Establishes a stacking context */
}

/* The animated gradient layer */
.itemcard-animated-border::before {
  content: '';
  position: absolute;
  z-index: -2; /* Sits behind everything */
  left: -50%;
  top: -50%;
  width: 200%;
  height: 200%;
  background-color: var(--color-slate-950); /* Use new deepest background */
  background-repeat: no-repeat;
  background-size: 50% 50%, 50% 50%;
  background-position: 0 0, 100% 0, 100% 100%, 0 100%;
  background-image: conic-gradient(var(--border-to), var(--border-from), var(--border-to));
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
}

/* On hover/focus, animate the pseudo-element */
.itemcard-animated-border:hover::before,
.itemcard-animated-border:focus-within::before {
  animation: flowing-border-rotate 4s linear infinite;
  opacity: 1;
}

/* The mask that creates the border effect */
.itemcard-animated-border::after {
  content: '';
  position: absolute;
  z-index: -1; /* Sits ON TOP of the gradient, but BEHIND the content */
  left: 2px;
  top: 2px;
  width: calc(100% - 4px);
  height: calc(100% - 4px);
  background: var(--color-slate-900); /* Use the new main background for the mask */
  border-radius: 22px;
}
